<!DOCTYPE html>
<html><head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Status</title>
	<link href="/style.css" rel="stylesheet" type="text/css" media="all">
</head><body>
		<script defer>
			document.writeln('<div id="statuscafe"><div id="statuscafe-username"></div><div id="statuscafe-content"></div></div>');
			fetch("https://status.cafe/users/louzhka/status.json")
			.then( r => r.json() )
			.then( r => {
			if (!r.content.length) {
				document.getElementById("statuscafe-content").innerHTML = "No status yet."
				return
			}
				document.getElementById("statuscafe-username").innerHTML = '<a href="https://status.cafe/users/louzhka" target="_blank">' + r.author + '</a> <span style="font-family: SerenityOSEmoji">' + r.face + '</span> <span class="nbr">' + r.timeAgo + '</span>'
				document.getElementById("statuscafe-content").innerHTML = r.content
			})
			//да, я просто пофиксила оригинальный скрипт, чтобы время красиво отображалось в одну строку, не разрывалось
		</script>
	</div>
	<script>
		function sendHeight() {
			const height = document.body.scrollHeight;
			window.parent.postMessage({ frameHeight: height }, '*');
		}
		document.fonts.ready.then(sendHeight);
		const resizeObserver = new ResizeObserver(() => {
        	sendHeight();
    	});
		resizeObserver.observe(document.body);
	</script>
</body></html>


